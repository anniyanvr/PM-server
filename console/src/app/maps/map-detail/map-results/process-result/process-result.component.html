<div class="card">
  <div class="card-header">
    <ul class="nav nav-tabs card-header-tabs">
      <li class="nav-item" (click)="tab='summary'">
        <a class="nav-link" [ngClass]="{'active': tab === 'summary'}">Summary</a>
      </li>
      <li class="nav-item" (click)="tab='results'">
        <a class="nav-link" [ngClass]="{'active': tab === 'results'}">Ag. results</a>
      </li>
      <li class="nav-item" (click)="tab='agents'">
        <a class="nav-link" [ngClass]="{'active': tab === 'agents'}">Agents</a>
      </li>
    </ul>
  </div>
  <div class="card-body">
    <div [ngSwitch]="tab">
      <div *ngSwitchCase="'summary'">
        <h4 class="card-title">{{process?.name}}</h4>
        <p class="card-text">{{process?.description}}</p>
      </div>
      <div *ngSwitchCase="'results'">
        <ngx-charts-pie-chart
          [view]="[400, 150]"
          [results]="agRes"
          [legend]="true"
          [doughnut]="true"
          [gradient]="gradient"
          *ngIf="agRes"></ngx-charts-pie-chart>
      </div>
      <div *ngSwitchCase="'agents'">
        <table class="table">
          <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Status</th>
            <th scope="col">Start</th>
            <th scope="col">Finish</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let agent of agents">
            <td>{{agent.name}}</td>
            <td>{{agent.status}}</td>
            <td>{{agent.startTime | date: 'mediumTime'}}</td>
            <td>{{agent.finishTime | date: 'mediumTime'}}</td>
          </tr>

          </tbody>
        </table>
      </div>
    </div>

  </div>
</div>
