<div class="main">
  <div class="section-title-wrapper">
    <h1 class="section-title">Plugins</h1>
    <button class="btn pm" (click)="onOpenModal()">Upload plugin</button>
  </div>
  <div class="filter d-flex justify-content-between align-items-end">
    <h5 class="section-sub-title">All plugins</h5>
    <div [hidden]="!plugins || !plugins.length">
      <i class="material-icons">search</i>
      <input class="form-control" #gb type="text" placeholder="Filter"/>
    </div>
  </div>

  <p-dataTable
    [value]="plugins"
    [rows]="15"
    [paginator]="true"
    [pageLinks]="4"
    [globalFilter]="gb"
    [hidden]="!plugins || !plugins.length">
    <p-column field="name" header="Name" [sortable]="true">
      <ng-template let-col let-plugin="rowData" pTemplate="body">
        <img [src]="plugin.fullImageUrl" class="thumbnail"> {{ plugin.name }}
      </ng-template>
    </p-column>
    <p-column field="description" header="Description" [sortable]="true">
      <ng-template let-col let-plugin="rowData" pTemplate="body">
        <span>{{ plugin.description | truncatechars : 70 : '' }}<span class="etc"
                                                                      *ngIf="plugin?.description?.length > 70"> ... </span></span>
      </ng-template>
    </p-column>
    <p-column field="version" header="Version" [sortable]="true">
      <ng-template let-col let-plugin="rowData" pTemplate="body">
        <span>{{ plugin.version }}</span>
      </ng-template>
    </p-column>
    <p-column field="" header="Actions" [sortable]="true">
      <ng-template let-col let-i="rowIndex" let-plugin="rowData" pTemplate="body">
        <button class="btn btn-danger" (click)="deletePlugin(plugin.id, i)"><i class="material-icons">delete</i></button>
      </ng-template>
    </p-column>
  </p-dataTable>

</div>
