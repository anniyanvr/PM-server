<div region="calendar">
  <h2><i class="pmap-39 noHover"></i>Calendar</h2>
  <div role="new-scheduled-job">
    <aside>
      <h3 class="side-title">Add a New Scheduled Job</h3>
      <div role="form-scheduled-job">
        <form (ngSubmit)="onAddJob(f)" #f="ngForm">

          <div class="form-group">
            <label class="form-label">Project</label>
            <select
              class="form-control auto-height"
              id="selectedProject"
              name="selectedProject"
              required
              [(ngModel)]="job.selectedProject">
              <option>Select Project</option>
              <option
                *ngFor="let project of projects"
                [ngValue]="project">{{ project.name }}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label
              class="form-label">Map</label>
            <select
              id="selectedMap"
              name="selectedMap"
              class="form-control auto-height"
              ngModel>
              <option>Select Map</option>
              <option
                *ngFor="let map of job.selectedProject.nodes"
                [ngValue]="map">{{ map.name }}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-radio">
              <input
                type="radio"
                name="repeated"
                value="true"
                ngModel>
              <i></i><span class="form-label">Repeated</span>
            </label>
            <label class="form-radio">
              <input
                type="radio"
                ngModel
                name="repeated"
                value="false">
              <i></i><span class="form-label">Once</span>
            </label>
          </div>

          <div class="form-group">
            <div class="form-label">Date</div>
            <ng2-datepicker
              [options]="options"
              [(ngModel)]="date"
              #datepicker
              required
              name="date">
            </ng2-datepicker>
            <div *ngIf="this.errors && this.errors.date">
              <span class="error">You must choose a date</span>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Time</label>
            <div class="form-time">
              <span>
                <span><i class="pmap-222" (click)="addTimeH()"></i></span>
                <input type="text"
                       class="form-control timeInput"
                       [ngModel]="hours"
                       name="hours" />
                <span><i class="pmap-22" (click)="decTimeH()"></i></span>
              </span>
              <i>:</i>
              <span>
                <span><i class="pmap-222" (click)="addTimeM()"></i></span>
                <input type="text"
                       class="form-control timeInput"
                       [ngModel]="minutes"
                       name="minutes">
                <span><i class="pmap-22" (click)="decTimeM()"></i></span>
              </span>
            </div>
          </div>

          <div class="form-group">
            <button type="submit" class="btn btn-event"><i class="pmap-28"></i>Create</button>
          </div>

        </form>
      </div>
    </aside>
    <section>
      <app-events-scheduler [events]="calendar.events" [changes]="hadChange"></app-events-scheduler>
    </section>
  </div>
</div>
